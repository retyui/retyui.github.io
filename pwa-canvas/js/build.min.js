!function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";var o=i(1),n=i(2);!function(t){function e(t){l.clearRect.apply(l,[0,0].concat((0,n.getWindowSize)())),w.draw(),f.map(function(e){e.moveInViewport(),e.intersects(m)&&r((0,n.__)("blueBlockTouch"));var i=t-v;i>1500&&e.setSpeed((0,n.sizeFactor)(Math.min(1+i/18e3,2)))}),m.moveXY(g)}function i(){e(Date.now()),y=!!y&&t.requestAnimationFrame(i)}function r(e){t.cancelAnimationFrame(y),y=!1;var i=(Date.now()-v)/1e3,o=parseFloat(localStorage.getItem("bestTime"));((0,n.isNaN)(o)||o<i)&&localStorage.setItem("bestTime",i),alert(["Game over, you time: "+i+"s",!(0,n.isNaN)(o)&&"Best time:"+o+"s",e].filter(function(t){return Boolean(t)}).join("\n")),location.reload()}var s=(0,n.getVMIN)(),c=s/2,u=c,a=c,h=t.document.createElement("canvas");t.document.body.appendChild(h),h.width=s,h.height=s;var l=h.getContext("2d"),p=.03*s,d={top:a-(c-p),left:u-(c-p),right:u+(c-p),bottom:a+(c-p)},f=[new o.BlueBlock(l,{top:d.top+(0,n.sizeFactor)(20),left:d.left+(0,n.sizeFactor)(20),width:(0,n.sizeFactor)(100),height:(0,n.sizeFactor)(100)}),new o.BlueBlock(l,{top:d.top+(0,n.sizeFactor)(50),left:d.right-(0,n.sizeFactor)(200),width:(0,n.sizeFactor)(100),height:(0,n.sizeFactor)(85)}),new o.BlueBlock(l,{top:d.bottom-(0,n.sizeFactor)(120),left:d.left+(0,n.sizeFactor)(20),width:(0,n.sizeFactor)(45),height:(0,n.sizeFactor)(100)}),new o.BlueBlock(l,{top:d.bottom-(0,n.sizeFactor)(100),left:d.right-(0,n.sizeFactor)(171),width:(0,n.sizeFactor)(170),height:(0,n.sizeFactor)(35)})].map(function(t){return t.setSpeed((0,n.sizeFactor)(1)).setDelta((0,n.randNotSmall)(-4,4),(0,n.randNotSmall)(-3,3)).setViewport(d)}),m=new o.RedBlock(l,{bgc:"red",top:a,left:u,width:(0,n.sizeFactor)(80),height:(0,n.sizeFactor)(80),stopGame:function(){r((0,n.__)("outViewport"))}}).setViewport(d),w=new o.Rect(l,{top:d.top,left:d.left,width:d.right-d.left,height:d.bottom-d.top,bgc:"#eee"}),g=[u,a];"ontouchstart"in document.documentElement?h.addEventListener("touchmove",function(t){var e=t.touches[0],i=h.getBoundingClientRect();g=[e.clientX-i.left,e.clientY-i.top]},{capture:!1,passive:!1}):h.addEventListener("mousemove",function(t){t.preventDefault();var e=h.getBoundingClientRect();g=[t.clientX-e.left,t.clientY-e.top]},{capture:!1,passive:!1});var v=0,y=!0;e(0),h.onclick=function(){v=Date.now(),i()}}(window)},function(t,e,i){"use strict";function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),c=e.Rect=function(){function t(e,i){var o=i.top,n=i.left,s=i.width,c=i.height,u=i.bgc,a=void 0===u?"blue":u;r(this,t),this.ctx=e,this.dimension={left:n,top:o,width:s,height:c},this.style={bgc:a},this.draw()}return t.prototype.draw=function(){this.ctx.beginPath();var t=this.dimension,e=t.top,i=t.left,o=t.width,n=t.height;return this.ctx.rect(i,e,o,n),this.ctx.closePath(),this.ctx.fillStyle=this.style.bgc,this.ctx.fill(),this},t}(),u=e.BlockViewport=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return n(e,t),e.prototype.setViewport=function(t){var e=t.top,i=t.left,o=t.right,n=t.bottom,r=this.dimension,s=r.width,c=r.height;return this.viewport={top:e,left:i,right:o-s,bottom:n-c},this},e.prototype.isBlockOutsideViewport=function(t,e){return this.isBlockOutsideViewportX(t||this.dimension.left,0)||this.isBlockOutsideViewportY(e||this.dimension.top,0)},e.prototype.isBlockOutsideViewportX=function(t,e){return t+(e||this.dx)>this.viewport.right||t+(e||this.dx)<this.viewport.left},e.prototype.isBlockOutsideViewportY=function(t,e){return t+(e||this.dy)>this.viewport.bottom||t+(e||this.dy)<this.viewport.top},e.prototype.getCords=function(){return[this.dimension.left,this.dimension.left+this.dimension.width,this.dimension.top,this.dimension.top+this.dimension.height]},e.prototype.intersects=function(t){var e=this.getCords(),i=e[0],o=e[1],n=e[2],r=e[3],s=t.getCords(),c=s[0],u=s[1],a=s[2],h=s[3];return!(i>u||o<c||r<a||n>h)},e}(c);e.BlueBlock=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return n(e,t),e.prototype.moveInViewport=function(){var t=this.dimension,e=t.left,i=t.top;return this.isBlockOutsideViewportX(e)&&(this._dx=-this._dx),this.isBlockOutsideViewportY(i)&&(this._dy=-this._dy),this.dimension.left+=this.dx,this.dimension.top+=this.dy,this.draw()},e.prototype.setSpeed=function(t){return this.speedFactor=t,this},e.prototype.setDelta=function(t,e){return this._dy=t,this._dx=e,this},s(e,[{key:"dy",get:function(){return this._dy*this.speedFactor}},{key:"dx",get:function(){return this._dx*this.speedFactor}}]),e}(u),e.RedBlock=function(t){function e(i,n){var s=n.stopGame;r(this,e);var c=o(this,t.apply(this,arguments));return c.stopGame=s,c}return n(e,t),e.prototype.moveXY=function(t){var e=t[0],i=t[1];return this.dimension.top=i-this.dimension.width/2,this.dimension.left=e-this.dimension.height/2,this.isBlockOutsideViewport()&&this.stopGame(),this.draw()},e}(u)},function(t,e,i){"use strict";function o(t,e){return e||(e=t,t=0),Math.floor(Math.random()*(e-t)+t)}function n(){var t=o.apply(void 0,arguments);return t<1.3&&t>-1.3?n.apply(void 0,arguments):t}function r(){return Math.min.apply(Math,s())}function s(){return[window.innerWidth,window.innerHeight]}function c(t){return t!==t}e.__esModule=!0,e.rand=o,e.randNotSmall=n,e.getVMIN=r,e.getWindowSize=s,e.isNaN=c;e.__=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return function(i){return t[e][i]||i}}({en:{outViewport:"You went abroad the block",blueBlockTouch:"Overwhelmed with the blue block"}}),e.sizeFactor=function(t){return function(e){return e*t}}(r()/555)}]);